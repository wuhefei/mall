package com.atguigu.gulimall.thirdparty;

/**
 * @author yuhl
 * @Date 2020/9/14 12:43
 * @Classname ALiSmsTest
 * @Description 阿里云发送短信
 */
import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONObject;
import com.alibaba.fastjson.TypeReference;
import com.aliyuncs.CommonRequest;
import com.aliyuncs.CommonResponse;
import com.aliyuncs.DefaultAcsClient;
import com.aliyuncs.IAcsClient;
import com.aliyuncs.exceptions.ClientException;
import com.aliyuncs.exceptions.ServerException;
import com.aliyuncs.http.MethodType;
import com.aliyuncs.profile.DefaultProfile;
import com.atguigu.gulimall.thirdparty.vo.SmsVo;

/*
pom.xml
<dependency>
  <groupId>com.aliyun</groupId>
  <artifactId>aliyun-java-sdk-core</artifactId>
  <version>4.5.3</version>
</dependency>
*/
public class ALiSmsTest {
    public static void main(String[] args) {
        /**
         * "LTAI4G5yG6BrzWiYWE1K46wj"
         * X7Eq9xPfc6x1giQVmxMKNN1DPiEnYO在阿里云中配置子账号中添加短信权限即可。
         *操作步骤
         * 云账号登录RAM控制台。
         * 在左侧导航栏，单击人员管理 > 用户。
         * 在用户登录名称/显示名称列表下，单击目标RAM用户名称。
         * 在用户AccessKey区域，单击创建AccessKey。
         * 单击关闭。
         * https://help.aliyun.com/document_detail/116401.html?spm=a2c4g.11186623.2.7.79d55df4kNO0gm#task-188766
         */
        DefaultProfile profile = DefaultProfile.getProfile("cn-hangzhou", "LTAI4G5yG6BrzWiYWE1K46wj", "X7Eq9xPfc6x1giQVmxMKNN1DPiEnYO");
        IAcsClient client = new DefaultAcsClient(profile);

        CommonRequest request = new CommonRequest();
        request.setSysMethod(MethodType.POST);
        request.setSysDomain("dysmsapi.aliyuncs.com");
        request.setSysVersion("2017-05-25");
        request.setSysAction("SendSms");
        request.putQueryParameter("RegionId", "cn-hangzhou");
        request.putQueryParameter("PhoneNumbers", "18237964");
        request.putQueryParameter("SignName", "红亮商城");
        request.putQueryParameter("TemplateCode", "SMS_202562087");
        request.putQueryParameter("TemplateParam", "{\"code\":\"iloveyou\"}");
        try {
            CommonResponse response = client.getCommonResponse(request);
            System.out.println(response.getHttpStatus());
            System.out.println(response.getData());
            String data = response.getData();
            SmsVo smsVo = JSON.parseObject(data,new TypeReference<SmsVo>(){});
            System.out.println(smsVo);
        } catch (ServerException e) {
            e.printStackTrace();
        } catch (ClientException e) {
            e.printStackTrace();
        }
    }
}

/**
 * "C:\Program Files\Java\jdk1.8.0_201\bin\java.exe" "-javaagent:C:\Program Files\JetBrains\IntelliJ IDEA 2020.1\lib\idea_rt.jar=64705:C:\Program Files\JetBrains\IntelliJ IDEA 2020.1\bin" -Dfile.encoding=UTF-8 -classpath "C:\Program Files\Java\jdk1.8.0_201\jre\lib\charsets.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\deploy.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\ext\access-bridge-64.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\ext\cldrdata.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\ext\dnsns.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\ext\jaccess.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\ext\jfxrt.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\ext\localedata.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\ext\nashorn.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\ext\sunec.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\ext\sunjce_provider.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\ext\sunmscapi.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\ext\sunpkcs11.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\ext\zipfs.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\javaws.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\jce.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\jfr.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\jfxswt.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\jsse.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\management-agent.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\plugin.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\resources.jar;C:\Program Files\Java\jdk1.8.0_201\jre\lib\rt.jar;D:\Idea2020Projects\gulimall\gulimall-third-party\target\test-classes;D:\Idea2020Projects\gulimall\gulimall-third-party\target\classes;D:\Idea2020Projects\gulimall\gulimall-common\target\classes;C:\Users\yuhl\.m2\repository\com\alibaba\cloud\spring-cloud-starter-alibaba-nacos-config\2.2.0.RELEASE\spring-cloud-starter-alibaba-nacos-config-2.2.0.RELEASE.jar;C:\Users\yuhl\.m2\repository\com\alibaba\cloud\spring-cloud-alibaba-nacos-config\2.2.0.RELEASE\spring-cloud-alibaba-nacos-config-2.2.0.RELEASE.jar;C:\Users\yuhl\.m2\repository\com\alibaba\nacos\nacos-client\1.1.4\nacos-client-1.1.4.jar;C:\Users\yuhl\.m2\repository\com\alibaba\nacos\nacos-common\1.1.4\nacos-common-1.1.4.jar;C:\Users\yuhl\.m2\repository\org\apache\commons\commons-lang3\3.9\commons-lang3-3.9.jar;C:\Users\yuhl\.m2\repository\com\alibaba\nacos\nacos-api\1.1.4\nacos-api-1.1.4.jar;C:\Users\yuhl\.m2\repository\com\alibaba\fastjson\1.2.58\fastjson-1.2.58.jar;C:\Users\yuhl\.m2\repository\io\prometheus\simpleclient\0.5.0\simpleclient-0.5.0.jar;C:\Users\yuhl\.m2\repository\com\alibaba\spring\spring-context-support\1.0.5\spring-context-support-1.0.5.jar;C:\Users\yuhl\.m2\repository\com\alibaba\cloud\spring-cloud-starter-alibaba-nacos-discovery\2.2.0.RELEASE\spring-cloud-starter-alibaba-nacos-discovery-2.2.0.RELEASE.jar;C:\Users\yuhl\.m2\repository\com\alibaba\cloud\spring-cloud-alibaba-nacos-discovery\2.2.0.RELEASE\spring-cloud-alibaba-nacos-discovery-2.2.0.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\cloud\spring-cloud-starter-netflix-ribbon\2.2.5.RELEASE\spring-cloud-starter-netflix-ribbon-2.2.5.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\cloud\spring-cloud-starter-netflix-archaius\2.2.5.RELEASE\spring-cloud-starter-netflix-archaius-2.2.5.RELEASE.jar;C:\Users\yuhl\.m2\repository\com\netflix\ribbon\ribbon\2.3.0\ribbon-2.3.0.jar;C:\Users\yuhl\.m2\repository\com\netflix\ribbon\ribbon-transport\2.3.0\ribbon-transport-2.3.0.jar;C:\Users\yuhl\.m2\repository\io\reactivex\rxnetty-contexts\0.4.9\rxnetty-contexts-0.4.9.jar;C:\Users\yuhl\.m2\repository\io\reactivex\rxnetty-servo\0.4.9\rxnetty-servo-0.4.9.jar;C:\Users\yuhl\.m2\repository\javax\inject\javax.inject\1\javax.inject-1.jar;C:\Users\yuhl\.m2\repository\io\reactivex\rxnetty\0.4.9\rxnetty-0.4.9.jar;C:\Users\yuhl\.m2\repository\com\netflix\ribbon\ribbon-core\2.3.0\ribbon-core-2.3.0.jar;C:\Users\yuhl\.m2\repository\com\netflix\ribbon\ribbon-httpclient\2.3.0\ribbon-httpclient-2.3.0.jar;C:\Users\yuhl\.m2\repository\commons-collections\commons-collections\3.2.2\commons-collections-3.2.2.jar;C:\Users\yuhl\.m2\repository\com\sun\jersey\jersey-client\1.19.1\jersey-client-1.19.1.jar;C:\Users\yuhl\.m2\repository\com\sun\jersey\contribs\jersey-apache-client4\1.19.1\jersey-apache-client4-1.19.1.jar;C:\Users\yuhl\.m2\repository\com\netflix\servo\servo-core\0.12.21\servo-core-0.12.21.jar;C:\Users\yuhl\.m2\repository\com\netflix\netflix-commons\netflix-commons-util\0.3.0\netflix-commons-util-0.3.0.jar;C:\Users\yuhl\.m2\repository\com\netflix\ribbon\ribbon-loadbalancer\2.3.0\ribbon-loadbalancer-2.3.0.jar;C:\Users\yuhl\.m2\repository\com\netflix\netflix-commons\netflix-statistics\0.1.1\netflix-statistics-0.1.1.jar;C:\Users\yuhl\.m2\repository\mysql\mysql-connector-java\8.0.21\mysql-connector-java-8.0.21.jar;C:\Users\yuhl\.m2\repository\org\projectlombok\lombok\1.18.12\lombok-1.18.12.jar;C:\Users\yuhl\.m2\repository\org\apache\httpcomponents\httpcore\4.4.13\httpcore-4.4.13.jar;C:\Users\yuhl\.m2\repository\commons-lang\commons-lang\2.6\commons-lang-2.6.jar;C:\Users\yuhl\.m2\repository\org\springframework\boot\spring-boot-starter\2.2.9.RELEASE\spring-boot-starter-2.2.9.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\boot\spring-boot\2.2.9.RELEASE\spring-boot-2.2.9.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\boot\spring-boot-autoconfigure\2.2.9.RELEASE\spring-boot-autoconfigure-2.2.9.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\boot\spring-boot-starter-logging\2.2.9.RELEASE\spring-boot-starter-logging-2.2.9.RELEASE.jar;C:\Users\yuhl\.m2\repository\ch\qos\logback\logback-classic\1.2.3\logback-classic-1.2.3.jar;C:\Users\yuhl\.m2\repository\ch\qos\logback\logback-core\1.2.3\logback-core-1.2.3.jar;C:\Users\yuhl\.m2\repository\org\apache\logging\log4j\log4j-to-slf4j\2.12.1\log4j-to-slf4j-2.12.1.jar;C:\Users\yuhl\.m2\repository\org\apache\logging\log4j\log4j-api\2.12.1\log4j-api-2.12.1.jar;C:\Users\yuhl\.m2\repository\org\slf4j\jul-to-slf4j\1.7.30\jul-to-slf4j-1.7.30.jar;C:\Users\yuhl\.m2\repository\jakarta\annotation\jakarta.annotation-api\1.3.5\jakarta.annotation-api-1.3.5.jar;C:\Users\yuhl\.m2\repository\org\yaml\snakeyaml\1.25\snakeyaml-1.25.jar;C:\Users\yuhl\.m2\repository\javax\validation\validation-api\2.0.1.Final\validation-api-2.0.1.Final.jar;C:\Users\yuhl\.m2\repository\org\springframework\boot\spring-boot-starter-validation\2.2.9.RELEASE\spring-boot-starter-validation-2.2.9.RELEASE.jar;C:\Users\yuhl\.m2\repository\jakarta\validation\jakarta.validation-api\2.0.2\jakarta.validation-api-2.0.2.jar;C:\Users\yuhl\.m2\repository\org\apache\tomcat\embed\tomcat-embed-el\9.0.37\tomcat-embed-el-9.0.37.jar;C:\Users\yuhl\.m2\repository\org\hibernate\validator\hibernate-validator\6.0.20.Final\hibernate-validator-6.0.20.Final.jar;C:\Users\yuhl\.m2\repository\org\jboss\logging\jboss-logging\3.4.1.Final\jboss-logging-3.4.1.Final.jar;C:\Users\yuhl\.m2\repository\com\fasterxml\classmate\1.5.1\classmate-1.5.1.jar;C:\Users\yuhl\.m2\repository\org\springframework\boot\spring-boot-configuration-processor\2.2.9.RELEASE\spring-boot-configuration-processor-2.2.9.RELEASE.jar;C:\Users\yuhl\.m2\repository\com\aliyun\aliyun-java-sdk-core\4.5.3\aliyun-java-sdk-core-4.5.3.jar;C:\Users\yuhl\.m2\repository\com\google\code\gson\gson\2.8.6\gson-2.8.6.jar;C:\Users\yuhl\.m2\repository\org\apache\httpcomponents\httpclient\4.5.12\httpclient-4.5.12.jar;C:\Users\yuhl\.m2\repository\commons-codec\commons-codec\1.13\commons-codec-1.13.jar;C:\Users\yuhl\.m2\repository\commons-logging\commons-logging\1.2\commons-logging-1.2.jar;C:\Users\yuhl\.m2\repository\javax\xml\bind\jaxb-api\2.3.1\jaxb-api-2.3.1.jar;C:\Users\yuhl\.m2\repository\javax\activation\javax.activation-api\1.2.0\javax.activation-api-1.2.0.jar;C:\Users\yuhl\.m2\repository\org\jacoco\org.jacoco.agent\0.8.5\org.jacoco.agent-0.8.5-runtime.jar;C:\Users\yuhl\.m2\repository\org\ini4j\ini4j\0.5.4\ini4j-0.5.4.jar;C:\Users\yuhl\.m2\repository\org\slf4j\slf4j-api\1.7.30\slf4j-api-1.7.30.jar;C:\Users\yuhl\.m2\repository\io\opentracing\opentracing-api\0.33.0\opentracing-api-0.33.0.jar;C:\Users\yuhl\.m2\repository\io\opentracing\opentracing-util\0.33.0\opentracing-util-0.33.0.jar;C:\Users\yuhl\.m2\repository\io\opentracing\opentracing-noop\0.33.0\opentracing-noop-0.33.0.jar;C:\Users\yuhl\.m2\repository\com\alibaba\cloud\spring-cloud-starter-alicloud-oss\2.2.0.RELEASE\spring-cloud-starter-alicloud-oss-2.2.0.RELEASE.jar;C:\Users\yuhl\.m2\repository\com\alibaba\cloud\spring-cloud-alicloud-oss\2.2.0.RELEASE\spring-cloud-alicloud-oss-2.2.0.RELEASE.jar;C:\Users\yuhl\.m2\repository\com\alibaba\cloud\spring-cloud-alicloud-context\2.2.0.RELEASE\spring-cloud-alicloud-context-2.2.0.RELEASE.jar;C:\Users\yuhl\.m2\repository\com\alibaba\cloud\alicloud-context\1.0.5\alicloud-context-1.0.5.jar;C:\Users\yuhl\.m2\repository\com\aliyun\oss\aliyun-sdk-oss\3.1.0\aliyun-sdk-oss-3.1.0.jar;C:\Users\yuhl\.m2\repository\org\jdom\jdom\1.1\jdom-1.1.jar;C:\Users\yuhl\.m2\repository\com\sun\jersey\jersey-json\1.9\jersey-json-1.9.jar;C:\Users\yuhl\.m2\repository\org\codehaus\jettison\jettison\1.1\jettison-1.1.jar;C:\Users\yuhl\.m2\repository\stax\stax-api\1.0.1\stax-api-1.0.1.jar;C:\Users\yuhl\.m2\repository\com\sun\xml\bind\jaxb-impl\2.2.3-1\jaxb-impl-2.2.3-1.jar;C:\Users\yuhl\.m2\repository\org\codehaus\jackson\jackson-core-asl\1.8.3\jackson-core-asl-1.8.3.jar;C:\Users\yuhl\.m2\repository\org\codehaus\jackson\jackson-mapper-asl\1.8.3\jackson-mapper-asl-1.8.3.jar;C:\Users\yuhl\.m2\repository\org\codehaus\jackson\jackson-jaxrs\1.8.3\jackson-jaxrs-1.8.3.jar;C:\Users\yuhl\.m2\repository\org\codehaus\jackson\jackson-xc\1.8.3\jackson-xc-1.8.3.jar;C:\Users\yuhl\.m2\repository\com\sun\jersey\jersey-core\1.9\jersey-core-1.9.jar;C:\Users\yuhl\.m2\repository\com\aliyun\aliyun-java-sdk-ram\3.0.0\aliyun-java-sdk-ram-3.0.0.jar;C:\Users\yuhl\.m2\repository\com\aliyun\aliyun-java-sdk-sts\3.0.0\aliyun-java-sdk-sts-3.0.0.jar;C:\Users\yuhl\.m2\repository\com\aliyun\aliyun-java-sdk-ecs\4.2.0\aliyun-java-sdk-ecs-4.2.0.jar;C:\Users\yuhl\.m2\repository\org\springframework\cloud\spring-cloud-starter-openfeign\2.2.5.RELEASE\spring-cloud-starter-openfeign-2.2.5.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\cloud\spring-cloud-starter\2.2.5.RELEASE\spring-cloud-starter-2.2.5.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\cloud\spring-cloud-context\2.2.5.RELEASE\spring-cloud-context-2.2.5.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\security\spring-security-rsa\1.0.9.RELEASE\spring-security-rsa-1.0.9.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\bouncycastle\bcpkix-jdk15on\1.64\bcpkix-jdk15on-1.64.jar;C:\Users\yuhl\.m2\repository\org\bouncycastle\bcprov-jdk15on\1.64\bcprov-jdk15on-1.64.jar;C:\Users\yuhl\.m2\repository\org\springframework\cloud\spring-cloud-openfeign-core\2.2.5.RELEASE\spring-cloud-openfeign-core-2.2.5.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\cloud\spring-cloud-netflix-ribbon\2.2.5.RELEASE\spring-cloud-netflix-ribbon-2.2.5.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\cloud\spring-cloud-netflix-archaius\2.2.5.RELEASE\spring-cloud-netflix-archaius-2.2.5.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\boot\spring-boot-starter-aop\2.2.9.RELEASE\spring-boot-starter-aop-2.2.9.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\aspectj\aspectjweaver\1.9.6\aspectjweaver-1.9.6.jar;C:\Users\yuhl\.m2\repository\io\github\openfeign\form\feign-form-spring\3.8.0\feign-form-spring-3.8.0.jar;C:\Users\yuhl\.m2\repository\io\github\openfeign\form\feign-form\3.8.0\feign-form-3.8.0.jar;C:\Users\yuhl\.m2\repository\commons-fileupload\commons-fileupload\1.4\commons-fileupload-1.4.jar;C:\Users\yuhl\.m2\repository\commons-io\commons-io\2.2\commons-io-2.2.jar;C:\Users\yuhl\.m2\repository\org\springframework\spring-web\5.2.8.RELEASE\spring-web-5.2.8.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\spring-beans\5.2.8.RELEASE\spring-beans-5.2.8.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\cloud\spring-cloud-commons\2.2.5.RELEASE\spring-cloud-commons-2.2.5.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\security\spring-security-crypto\5.2.5.RELEASE\spring-security-crypto-5.2.5.RELEASE.jar;C:\Users\yuhl\.m2\repository\io\github\openfeign\feign-core\10.10.1\feign-core-10.10.1.jar;C:\Users\yuhl\.m2\repository\io\github\openfeign\feign-slf4j\10.10.1\feign-slf4j-10.10.1.jar;C:\Users\yuhl\.m2\repository\io\github\openfeign\feign-hystrix\10.10.1\feign-hystrix-10.10.1.jar;C:\Users\yuhl\.m2\repository\com\netflix\archaius\archaius-core\0.7.6\archaius-core-0.7.6.jar;C:\Users\yuhl\.m2\repository\com\google\code\findbugs\jsr305\3.0.1\jsr305-3.0.1.jar;C:\Users\yuhl\.m2\repository\commons-configuration\commons-configuration\1.8\commons-configuration-1.8.jar;C:\Users\yuhl\.m2\repository\com\google\guava\guava\29.0-jre\guava-29.0-jre.jar;C:\Users\yuhl\.m2\repository\com\google\guava\failureaccess\1.0.1\failureaccess-1.0.1.jar;C:\Users\yuhl\.m2\repository\com\google\guava\listenablefuture\9999.0-empty-to-avoid-conflict-with-guava\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar;C:\Users\yuhl\.m2\repository\org\checkerframework\checker-qual\2.11.1\checker-qual-2.11.1.jar;C:\Users\yuhl\.m2\repository\com\google\errorprone\error_prone_annotations\2.3.4\error_prone_annotations-2.3.4.jar;C:\Users\yuhl\.m2\repository\com\google\j2objc\j2objc-annotations\1.3\j2objc-annotations-1.3.jar;C:\Users\yuhl\.m2\repository\com\fasterxml\jackson\core\jackson-annotations\2.10.5\jackson-annotations-2.10.5.jar;C:\Users\yuhl\.m2\repository\com\fasterxml\jackson\core\jackson-core\2.10.5\jackson-core-2.10.5.jar;C:\Users\yuhl\.m2\repository\com\netflix\hystrix\hystrix-core\1.5.18\hystrix-core-1.5.18.jar;C:\Users\yuhl\.m2\repository\io\reactivex\rxjava\1.3.8\rxjava-1.3.8.jar;C:\Users\yuhl\.m2\repository\org\hdrhistogram\HdrHistogram\2.1.9\HdrHistogram-2.1.9.jar;C:\Users\yuhl\.m2\repository\org\springframework\boot\spring-boot-starter-web\2.2.9.RELEASE\spring-boot-starter-web-2.2.9.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\boot\spring-boot-starter-json\2.2.9.RELEASE\spring-boot-starter-json-2.2.9.RELEASE.jar;C:\Users\yuhl\.m2\repository\com\fasterxml\jackson\core\jackson-databind\2.10.5\jackson-databind-2.10.5.jar;C:\Users\yuhl\.m2\repository\com\fasterxml\jackson\datatype\jackson-datatype-jdk8\2.10.5\jackson-datatype-jdk8-2.10.5.jar;C:\Users\yuhl\.m2\repository\com\fasterxml\jackson\datatype\jackson-datatype-jsr310\2.10.5\jackson-datatype-jsr310-2.10.5.jar;C:\Users\yuhl\.m2\repository\com\fasterxml\jackson\module\jackson-module-parameter-names\2.10.5\jackson-module-parameter-names-2.10.5.jar;C:\Users\yuhl\.m2\repository\org\springframework\boot\spring-boot-starter-tomcat\2.2.9.RELEASE\spring-boot-starter-tomcat-2.2.9.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\apache\tomcat\embed\tomcat-embed-core\9.0.37\tomcat-embed-core-9.0.37.jar;C:\Users\yuhl\.m2\repository\org\apache\tomcat\embed\tomcat-embed-websocket\9.0.37\tomcat-embed-websocket-9.0.37.jar;C:\Users\yuhl\.m2\repository\org\springframework\spring-webmvc\5.2.8.RELEASE\spring-webmvc-5.2.8.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\spring-aop\5.2.8.RELEASE\spring-aop-5.2.8.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\spring-context\5.2.8.RELEASE\spring-context-5.2.8.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\spring-expression\5.2.8.RELEASE\spring-expression-5.2.8.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\boot\spring-boot-starter-test\2.2.9.RELEASE\spring-boot-starter-test-2.2.9.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\boot\spring-boot-test\2.2.9.RELEASE\spring-boot-test-2.2.9.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\boot\spring-boot-test-autoconfigure\2.2.9.RELEASE\spring-boot-test-autoconfigure-2.2.9.RELEASE.jar;C:\Users\yuhl\.m2\repository\com\jayway\jsonpath\json-path\2.4.0\json-path-2.4.0.jar;C:\Users\yuhl\.m2\repository\net\minidev\json-smart\2.3\json-smart-2.3.jar;C:\Users\yuhl\.m2\repository\net\minidev\accessors-smart\1.2\accessors-smart-1.2.jar;C:\Users\yuhl\.m2\repository\org\ow2\asm\asm\5.0.4\asm-5.0.4.jar;C:\Users\yuhl\.m2\repository\jakarta\xml\bind\jakarta.xml.bind-api\2.3.3\jakarta.xml.bind-api-2.3.3.jar;C:\Users\yuhl\.m2\repository\jakarta\activation\jakarta.activation-api\1.2.2\jakarta.activation-api-1.2.2.jar;C:\Users\yuhl\.m2\repository\org\junit\jupiter\junit-jupiter\5.5.2\junit-jupiter-5.5.2.jar;C:\Users\yuhl\.m2\repository\org\junit\jupiter\junit-jupiter-api\5.5.2\junit-jupiter-api-5.5.2.jar;C:\Users\yuhl\.m2\repository\org\apiguardian\apiguardian-api\1.1.0\apiguardian-api-1.1.0.jar;C:\Users\yuhl\.m2\repository\org\opentest4j\opentest4j\1.2.0\opentest4j-1.2.0.jar;C:\Users\yuhl\.m2\repository\org\junit\platform\junit-platform-commons\1.5.2\junit-platform-commons-1.5.2.jar;C:\Users\yuhl\.m2\repository\org\junit\jupiter\junit-jupiter-params\5.5.2\junit-jupiter-params-5.5.2.jar;C:\Users\yuhl\.m2\repository\org\junit\jupiter\junit-jupiter-engine\5.5.2\junit-jupiter-engine-5.5.2.jar;C:\Users\yuhl\.m2\repository\org\junit\platform\junit-platform-engine\1.5.2\junit-platform-engine-1.5.2.jar;C:\Users\yuhl\.m2\repository\org\mockito\mockito-junit-jupiter\3.1.0\mockito-junit-jupiter-3.1.0.jar;C:\Users\yuhl\.m2\repository\org\assertj\assertj-core\3.13.2\assertj-core-3.13.2.jar;C:\Users\yuhl\.m2\repository\org\hamcrest\hamcrest\2.1\hamcrest-2.1.jar;C:\Users\yuhl\.m2\repository\org\mockito\mockito-core\3.1.0\mockito-core-3.1.0.jar;C:\Users\yuhl\.m2\repository\net\bytebuddy\byte-buddy\1.10.13\byte-buddy-1.10.13.jar;C:\Users\yuhl\.m2\repository\net\bytebuddy\byte-buddy-agent\1.10.13\byte-buddy-agent-1.10.13.jar;C:\Users\yuhl\.m2\repository\org\objenesis\objenesis\2.6\objenesis-2.6.jar;C:\Users\yuhl\.m2\repository\org\skyscreamer\jsonassert\1.5.0\jsonassert-1.5.0.jar;C:\Users\yuhl\.m2\repository\com\vaadin\external\google\android-json\0.0.20131108.vaadin1\android-json-0.0.20131108.vaadin1.jar;C:\Users\yuhl\.m2\repository\org\springframework\spring-core\5.2.8.RELEASE\spring-core-5.2.8.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\spring-jcl\5.2.8.RELEASE\spring-jcl-5.2.8.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\springframework\spring-test\5.2.8.RELEASE\spring-test-5.2.8.RELEASE.jar;C:\Users\yuhl\.m2\repository\org\xmlunit\xmlunit-core\2.6.4\xmlunit-core-2.6.4.jar" com.atguigu.gulimall.thirdparty.ALiSmsTest
 * 17:08:28.067 [main] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
 * 17:08:28.093 [main] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
 * 17:08:28.095 [main] DEBUG org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://dysmsapi.aliyuncs.com:80][total available: 0; route allocated: 0 of 5; total allocated: 0 of 64]
 * 17:08:28.128 [main] DEBUG org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 0][route: {}->http://dysmsapi.aliyuncs.com:80][total available: 0; route allocated: 1 of 5; total allocated: 1 of 64]
 * 17:08:28.131 [main] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://dysmsapi.aliyuncs.com:80
 * 17:08:28.217 [main] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to dysmsapi.aliyuncs.com/106.11.45.35:80
 * 17:08:28.306 [main] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.43.57:64717<->106.11.45.35:80
 * 17:08:28.306 [main] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-0: set socket timeout to 10000
 * 17:08:28.307 [main] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /?PhoneNumbers=18237964056&Action=SendSms&Timestamp=2020-09-14T09%3A08%3A27Z&SignName=%E7%BA%A2%E4%BA%AE%E5%95%86%E5%9F%8E&TemplateCode=SMS_202562087&SignatureVersion=1.0&Format=JSON&SignatureNonce=0880b893-a10e-458e-8f28-fae6a2133cfe16000745079221&Version=2017-05-25&AccessKeyId=LTAI4G5yG6BrzWiYWE1K46wj&Signature=idv7KfDYh%2B5hy5cgD3tBqphNy9w%3D&SignatureMethod=HMAC-SHA1&RegionId=cn-hangzhou&TemplateParam=%7B%22code%22%3A%22iloveyou%22%7D HTTP/1.1
 * 17:08:28.307 [main] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
 * 17:08:28.307 [main] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
 * 17:08:28.310 [main] DEBUG org.apache.http.headers - http-outgoing-0 >> POST /?PhoneNumbers=18237964056&Action=SendSms&Timestamp=2020-09-14T09%3A08%3A27Z&SignName=%E7%BA%A2%E4%BA%AE%E5%95%86%E5%9F%8E&TemplateCode=SMS_202562087&SignatureVersion=1.0&Format=JSON&SignatureNonce=0880b893-a10e-458e-8f28-fae6a2133cfe16000745079221&Version=2017-05-25&AccessKeyId=LTAI4G5yG6BrzWiYWE1K46wj&Signature=idv7KfDYh%2B5hy5cgD3tBqphNy9w%3D&SignatureMethod=HMAC-SHA1&RegionId=cn-hangzhou&TemplateParam=%7B%22code%22%3A%22iloveyou%22%7D HTTP/1.1
 * 17:08:28.310 [main] DEBUG org.apache.http.headers - http-outgoing-0 >> Accept-Encoding: identity
 * 17:08:28.310 [main] DEBUG org.apache.http.headers - http-outgoing-0 >> x-sdk-invoke-type: common
 * 17:08:28.310 [main] DEBUG org.apache.http.headers - http-outgoing-0 >> Accept: application/json
 * 17:08:28.310 [main] DEBUG org.apache.http.headers - http-outgoing-0 >> x-sdk-client: Java/2.0.0
 * 17:08:28.310 [main] DEBUG org.apache.http.headers - http-outgoing-0 >> User-Agent: AlibabaCloud (Windows 10; amd64) Java/1.8.0_201-b09 Core/4.5.3 HTTPClient/ApacheHttpClient
 * 17:08:28.310 [main] DEBUG org.apache.http.headers - http-outgoing-0 >> Content-Type: application/x-www-form-urlencoded
 * 17:08:28.310 [main] DEBUG org.apache.http.headers - http-outgoing-0 >> Host: dysmsapi.aliyuncs.com
 * 17:08:28.310 [main] DEBUG org.apache.http.headers - http-outgoing-0 >> Connection: Keep-Alive
 * 17:08:28.311 [main] DEBUG org.apache.http.wire - http-outgoing-0 >> "POST /?PhoneNumbers=18237964056&Action=SendSms&Timestamp=2020-09-14T09%3A08%3A27Z&SignName=%E7%BA%A2%E4%BA%AE%E5%95%86%E5%9F%8E&TemplateCode=SMS_202562087&SignatureVersion=1.0&Format=JSON&SignatureNonce=0880b893-a10e-458e-8f28-fae6a2133cfe16000745079221&Version=2017-05-25&AccessKeyId=LTAI4G5yG6BrzWiYWE1K46wj&Signature=idv7KfDYh%2B5hy5cgD3tBqphNy9w%3D&SignatureMethod=HMAC-SHA1&RegionId=cn-hangzhou&TemplateParam=%7B%22code%22%3A%22iloveyou%22%7D HTTP/1.1[\r][\n]"
 * 17:08:28.311 [main] DEBUG org.apache.http.wire - http-outgoing-0 >> "Accept-Encoding: identity[\r][\n]"
 * 17:08:28.311 [main] DEBUG org.apache.http.wire - http-outgoing-0 >> "x-sdk-invoke-type: common[\r][\n]"
 * 17:08:28.311 [main] DEBUG org.apache.http.wire - http-outgoing-0 >> "Accept: application/json[\r][\n]"
 * 17:08:28.311 [main] DEBUG org.apache.http.wire - http-outgoing-0 >> "x-sdk-client: Java/2.0.0[\r][\n]"
 * 17:08:28.311 [main] DEBUG org.apache.http.wire - http-outgoing-0 >> "User-Agent: AlibabaCloud (Windows 10; amd64) Java/1.8.0_201-b09 Core/4.5.3 HTTPClient/ApacheHttpClient[\r][\n]"
 * 17:08:28.311 [main] DEBUG org.apache.http.wire - http-outgoing-0 >> "Content-Type: application/x-www-form-urlencoded[\r][\n]"
 * 17:08:28.311 [main] DEBUG org.apache.http.wire - http-outgoing-0 >> "Host: dysmsapi.aliyuncs.com[\r][\n]"
 * 17:08:28.311 [main] DEBUG org.apache.http.wire - http-outgoing-0 >> "Connection: Keep-Alive[\r][\n]"
 * 17:08:28.311 [main] DEBUG org.apache.http.wire - http-outgoing-0 >> "[\r][\n]"
 * 17:08:28.774 [main] DEBUG org.apache.http.wire - http-outgoing-0 << "HTTP/1.1 200 OK[\r][\n]"
 * 17:08:28.774 [main] DEBUG org.apache.http.wire - http-outgoing-0 << "Date: Mon, 14 Sep 2020 09:08:27 GMT[\r][\n]"
 * 17:08:28.774 [main] DEBUG org.apache.http.wire - http-outgoing-0 << "Content-Type: application/json;charset=utf-8[\r][\n]"
 * 17:08:28.774 [main] DEBUG org.apache.http.wire - http-outgoing-0 << "Content-Length: 110[\r][\n]"
 * 17:08:28.774 [main] DEBUG org.apache.http.wire - http-outgoing-0 << "Connection: keep-alive[\r][\n]"
 * 17:08:28.774 [main] DEBUG org.apache.http.wire - http-outgoing-0 << "Access-Control-Allow-Origin: *[\r][\n]"
 * 17:08:28.774 [main] DEBUG org.apache.http.wire - http-outgoing-0 << "Access-Control-Allow-Methods: POST, GET, OPTIONS[\r][\n]"
 * 17:08:28.774 [main] DEBUG org.apache.http.wire - http-outgoing-0 << "Access-Control-Allow-Headers: X-Requested-With, X-Sequence, _aop_secret, _aop_signature[\r][\n]"
 * 17:08:28.774 [main] DEBUG org.apache.http.wire - http-outgoing-0 << "Access-Control-Max-Age: 172800[\r][\n]"
 * 17:08:28.774 [main] DEBUG org.apache.http.wire - http-outgoing-0 << "[\r][\n]"
 * 17:08:28.774 [main] DEBUG org.apache.http.wire - http-outgoing-0 << "{"Message":"OK","RequestId":"4B4A0C05-F7A5-4BB6-9437-A16AAFE8BA2A","BizId":"826401800074507466^0","Code":"OK"}"
 * 17:08:28.795 [main] DEBUG org.apache.http.headers - http-outgoing-0 << HTTP/1.1 200 OK
 * 17:08:28.795 [main] DEBUG org.apache.http.headers - http-outgoing-0 << Date: Mon, 14 Sep 2020 09:08:27 GMT
 * 17:08:28.795 [main] DEBUG org.apache.http.headers - http-outgoing-0 << Content-Type: application/json;charset=utf-8
 * 17:08:28.795 [main] DEBUG org.apache.http.headers - http-outgoing-0 << Content-Length: 110
 * 17:08:28.795 [main] DEBUG org.apache.http.headers - http-outgoing-0 << Connection: keep-alive
 * 17:08:28.795 [main] DEBUG org.apache.http.headers - http-outgoing-0 << Access-Control-Allow-Origin: *
 * 17:08:28.795 [main] DEBUG org.apache.http.headers - http-outgoing-0 << Access-Control-Allow-Methods: POST, GET, OPTIONS
 * 17:08:28.795 [main] DEBUG org.apache.http.headers - http-outgoing-0 << Access-Control-Allow-Headers: X-Requested-With, X-Sequence, _aop_secret, _aop_signature
 * 17:08:28.795 [main] DEBUG org.apache.http.headers - http-outgoing-0 << Access-Control-Max-Age: 172800
 * 17:08:28.802 [main] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive for 5000 MILLISECONDS
 * 17:08:28.813 [main] DEBUG org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 0][route: {}->http://dysmsapi.aliyuncs.com:80] can be kept alive for 5.0 seconds
 * 17:08:28.813 [main] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-0: set socket timeout to 0
 * 17:08:28.813 [main] DEBUG org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 0][route: {}->http://dysmsapi.aliyuncs.com:80][total available: 1; route allocated: 1 of 5; total allocated: 1 of 64]
 * 200
 * {"Message":"OK","RequestId":"4B4A0C05-F7A5-4BB6-9437-A16AAFE8BA2A","BizId":"826401800074507466^0","Code":"OK"}
 * SmsVo(Message=OK, RequestId=4B4A0C05-F7A5-4BB6-9437-A16AAFE8BA2A, BizId=826401800074507466^0, Code=OK)
 * 电话号码不对code有提示SmsVo(Message=18237964invalid mobile number, RequestId=4D5B7B02-B35D-4766-9E46-6394645D2472, BizId=null, Code=isv.MOBILE_NUMBER_ILLEGAL)
 * 总结code等于ok则一切完美，要不然就把SmsVo 对象返回就好了
 * Process finished with exit code 0
 * Process finished with exit code 0
 */

